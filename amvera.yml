meta:
  environment: python
  toolchain: docker

build:
  dockerfile: Dockerfile

run:
  containerPort: 8000

deploy:
  environment:
    DEBUG: "False"
    DJANGO_SETTINGS_MODULE: "mom_baby_bot.settings_prod"
    ALLOWED_HOSTS: "*.amvera.ru,*.amvera.io"
    USE_HTTPS: "True"
    PYTHONUNBUFFERED: "1"
    # Переменные окружения для настройки в панели Amvera:
    # DATABASE_URL: автоматически предоставляется Amvera для PostgreSQL
    # REDIS_URL: автоматически предоставляется Amvera для Redis  
    # SECRET_KEY: установите сильный секретный ключ
    # TELEGRAM_BOT_TOKEN: токен вашего Telegram бота
    # WEBHOOK_URL: https://ваш-домен.amvera.ru/webhook
    # WEBAPP_URL: https://ваш-домен.amvera.ru
    # ADMIN_IDS: ID администраторов через запятую

services:
  - type: postgresql
    version: "15"
  - type: redis
    version: "7"